---
title: Maps, charts and other possibilities
---
My new favorite Socrata visualization is the calendar.

## Socrata visualization types
Socrata is more than a place to dump raw tables, or at least
it tries to be; you can make various charts and maps, and you
can serve non-tabular information to some degree.

There are many ways that a particular dataset could be visualized.
Socrata has `length(unique(socrata$displayType))` ways.
Here they are.

```{r display_types}
socrata$displayType <- factor(socrata$displayType, levels = names(sort(table(socrata$displayType), decreasing = T)))
ggplot(socrata) + aes(x = displayType) + geom_bar() + coord_flip()
```


World Bank Open Finances made a
[form](https://finances.worldbank.org/dataset/Global-Open-Data-Calendar-Entry-Form/qdbh-rfd3?)
that populates an
[open data events calendar](https://finances.worldbank.org/dataset/Global-Open-Data-Calendar/g4sx-dwxc).

## Calendars: The coolest visualization type
The calendar is
[what it sounds like](https://data.oregon.gov/dataset/Public-Meetings-3-Month-View-/4775-yg3b?).

People actually use them.

```{r calendar_use}
ggplot(subset(socrata.distinct, displayType == 'calendar')) + aes(x = viewCount) + geom_histogram() +
  scale_x_continuous('Hits per calendar', labels = comma) +
  scale_y_continuous('Frequency', labels = comma) +
  ggtitle("Someone likes her calendar.")
```
I'm quite excited that Socrata presents calendars as data.
To me, anything could be turned into data, and data could be turned into
[anything](http://csvsoundsystem.com). But a lot of people don't realize this,
and I see calendars as one of those things that people don't see as data.

```{r calendar_use_2}
calendar.use <- subset(socrata, displayType == 'calendar')[c('portal', 'id', 'viewCount')]
calendar.use[order(calendar.use$viewCount, decreasing = T),][1:5,c('portal', 'id', 'viewCount')]
```

Check out Missouri's [open meetings calendar](https://data.mo.gov/Government-Administration/Open-Meetings-Calendar/mahp-izvx?).
They also have a different view of the calendar [outside the portal](http://www.mo.gov/meetings/),
with an RSS feed from the Socrata portal. But I don't know how the calendar on Socrata got so many views.

It looks like some other portals are using calendars a lot too,
but usually with several separate calendars instead of one huge one.

```{r calendar_use_3}
ggplot(sqldf('select portal, sum(viewCount) AS "total.view.count", count(*) AS "number.of.calendars" FROM "calendar.use" GROUP BY portal;')) +
  aes(x = number.of.calendars, y = total.view.count, label = portal) + geom_text() +
  scale_x_log10('Number of calendars in the portal', breaks = c(1,5,25)) +
  scale_y_log10('Total hits across all calendars', labels = comma, breaks = 10^(2:6))
```

(Like [Oregon](https://data.oregon.gov/browse?limitTo=calendars))

## Calendars as data

## Prevent data from becoming closed
There are a bunch of other services that make better forms, calendars,
charts, &c. than Socrata. On the other hand, most services don't concern
themselves so strongly with the opening of the data they collect.
I want both!

Typical services for hosting calendars, forms and ordinary websites make
data private by default. That is, I want good software that happens to
keep my data open. How can we make this happen?
I think part of the issue is that people don't see everything as data.

Socrata is mostly being used to help governments open data that they've
held for years in private silos. It is thus natural that Socrata would represent
calendars as tables on the open data portal, just like any other table, so you
can easily send calendar data through standard table-based analysis tools.

At the other end of the spectrum are things like Google Calendar. You can
export your data if you log in and manage to find the button, and then you
get an HTML file that looks pretty or an XML or iCal file that other calendar
software could read. But I want a CSV that I can open in R!

There's lots of siloed data in government, and we need better software and
methods for opening that up. But let's also make tools that prevent data from
becoming siloed in the first place.
